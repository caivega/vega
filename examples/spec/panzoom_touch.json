{
  "width": 800,
  "height": 500,
  "padding": {"left": 45, "right": 65, "top": 50, "bottom": 50},

  "data": [
    {
      "name":"points",
      "values": [{"x":0.6978536341805011,"y":0},{"x":0.5900134529193346,"y":0.03712050006559688},{"x":0.6769994015017642,"y":0.08552491360010511},{"x":0.6101619359446248,"y":0.11639461428686876},{"x":0.5191819840143895,"y":0.13330327658402996},{"x":0.544086310896318,"y":0.17678435886091426},{"x":0.5697307143993128,"y":0.22557234730302309},{"x":0.5173836848634682,"y":0.24346228177872395},{"x":0.45280263818331107,"y":0.24893035686643492},{"x":0.5756518933335842,"y":0.36531980017731813},{"x":0.5429771994343614,"y":0.39449602712631193},{"x":0.5168492693772758,"y":0.42757490085219113},{"x":0.44471186170127475,"y":0.41761223521596114},{"x":0.44386566387795084,"y":0.4726689236639765},{"x":0.3239209016731483,"y":0.3915531080802848},{"x":0.37495957976814287,"y":0.5160875865003405},{"x":0.3029707349642524,"y":0.4774054872530502},{"x":0.25299946645259813,"y":0.4602043210429888},{"x":0.24875304701640238,"y":0.5286271333123147},{"x":0.20138596632086112,"y":0.50864288922724},{"x":0.17948164730761035,"y":0.5523877111437274},{"x":0.14477010396214246,"y":0.5638423280140074},{"x":0.0948922453918831,"y":0.49744257076829174},{"x":0.065965968047132,"y":0.5221744051821866},{"x":0.0333938893105902,"y":0.5307806711582489},{"x":3.668732639229982e-17,"y":0.5991495085414499},{"x":-0.0349923567786993,"y":0.5561875840115699},{"x":-0.0711443059429228,"y":0.5631651704300347},{"x":-0.1217637187551239,"y":0.6383077672333932},{"x":-0.128626254729778,"y":0.5009661865651908},{"x":-0.16286797627545813,"y":0.5012560893160277},{"x":-0.2320372237724143,"y":0.5860591284688873},{"x":-0.2630854971133793,"y":0.559085140154768},{"x":-0.3284657200961124,"y":0.597476926818141},{"x":-0.31838771686651907,"y":0.5016987634927219},{"x":-0.32382731580571467,"y":0.4457100628296949},{"x":-0.3524749566924504,"y":0.42606903136079227},{"x":-0.47682623077130404,"y":0.5077683624011877},{"x":-0.43256027991569845,"y":0.4062011403747519},{"x":-0.5114607112034238,"y":0.423117097845723},{"x":-0.5464931765046099,"y":0.3970505339953393},{"x":-0.5225246930869805,"y":0.3316042536763314},{"x":-0.5666549981260168,"y":0.3115212214080631},{"x":-0.5900960902398553,"y":0.2776781425498776},{"x":-0.6060146991904155,"y":0.23993819315261136},{"x":-0.5995753065975834,"y":0.19481382648843854},{"x":-0.559860655553748,"y":0.14374778423307016},{"x":-0.5931257547264677,"y":0.11314478891266094},{"x":-0.605688091675466,"y":0.07651620015357119},{"x":-0.662060877824303,"y":0.041653339829975426},{"x":-0.6870089840143919,"y":8.413433532587002e-17},{"x":-0.5102016699184105,"y":-0.03209916829517323},{"x":-0.6465013475642861,"y":-0.08167211340236764},{"x":-0.5407869836879857,"y":-0.103160634365489},{"x":-0.5092828908134169,"y":-0.1307616214428072},{"x":-0.646700934855654,"y":-0.21012587130683555},{"x":-0.5159775728926753,"y":-0.204289973019678},{"x":-0.5810015602979419,"y":-0.27339858160479735},{"x":-0.5084008727522408,"y":-0.27949574497440893},{"x":-0.5347285209902417,"y":-0.3393490383676483},{"x":-0.49370637378361626,"y":-0.35869867690110774},{"x":-0.4735619441658796,"y":-0.39176451108861604},{"x":-0.48938244890522686,"y":-0.4595607087720429},{"x":-0.47827464462738184,"y":-0.5093107664979386},{"x":-0.3901337901020163,"y":-0.4715907411116256},{"x":-0.3122328885629072,"y":-0.429751702794476},{"x":-0.36862586469958203,"y":-0.5808614174294604},{"x":-0.25631179687839223,"y":-0.46622942772027176},{"x":-0.24916350131936837,"y":-0.529499393106256},{"x":-0.1974181032596866,"y":-0.49862121111150576},{"x":-0.19751214633307382,"y":-0.6078798811614505},{"x":-0.1411561644058981,"y":-0.549766962749177},{"x":-0.09406899237543828,"y":-0.49312692732238317},{"x":-0.08634584545736239,"y":-0.6834977462839105},{"x":-0.04247195646665603,"y":-0.6750724166659611},{"x":-1.0427888189734507e-16,"y":-0.5676677932497114},{"x":0.036280342833170165,"y":-0.5766595361126353},{"x":0.07831884447864138,"y":-0.6199574908227069},{"x":0.10877893261040267,"y":-0.5702391345012707},{"x":0.1296458535449483,"y":-0.50493726176547},{"x":0.1866884485865078,"y":-0.5745679647954841},{"x":0.24380537402481314,"y":-0.615782083124544},{"x":0.25846855223496473,"y":-0.5492736328586342},{"x":0.28577776898927265,"y":-0.5198278320145349},{"x":0.2881556814637662,"y":-0.45406069840433766},{"x":0.354274806416648,"y":-0.4876174384302995},{"x":0.31942992936298764,"y":-0.3861244551058617},{"x":0.43251209613593644,"y":-0.46057860201693146},{"x":0.4571703365580095,"y":-0.429311521833591},{"x":0.4373203058653511,"y":-0.3617828204465072},{"x":0.4882457721873884,"y":-0.3547313176129549},{"x":0.5785472233678367,"y":-0.36715723248981436},{"x":0.4741708618236043,"y":-0.26067763722178217},{"x":0.5459057419099327,"y":-0.2568837430514886},{"x":0.5872152801072316,"y":-0.23249497658845225},{"x":0.6023171048115709,"y":-0.19570469073125932},{"x":0.5514869691806447,"y":-0.1415977869970514},{"x":0.5146291839176999,"y":-0.09817076719171643},{"x":0.5662845973920998,"y":-0.07153838121214881},{"x":0.5135084466235618,"y":-0.03230721305125989}]
    }
  ],

  "signals": [
    {
      "name": "zoomCenterX",
      "init": 0,
      "streams": [
        {"type": "mousemove", "expr": "p.x", "scale":"x", "invert":true},
        {"type": "touchmove[e.touches.length==2]", "expr": "(e.touches[0].pageX + e.touches[1].pageX) / 2 - (e.changedTouches[0].pageX-p.x)", "scale":"x", "invert":true}
      ]
    },
  {
    "name": "zoomCenterY",
    "init": 0,
    "streams": [
      {"type": "mousemove", "expr": "p.y", "scale":"y", "invert":true},
      {"type": "touchmove[e.touches.length==2]", "expr": "((e.touches[0].pageY + e.touches[1].pageY) / 2 - (e.changedTouches[0].pageY-p.y))", "scale":"y", "invert":true}
    ]
  },
    {
      "name": "xDelta",
      "init": 0,
      "streams": [
        {"type": "mousedown,touchstart", "expr": "0"},
        {"type": "[mousedown, mouseup] > mousemove,touchmove[e.touches.length==1]", "expr": "xCoord - p.x"}
      ]
    },
    {
      "name": "xCoord",
      "init": 0,
      "streams": [
        {"type": "mousedown,touchstart", "expr": "p.x"},
        {"type": "[mousedown, mouseup] > mousemove,touchmove", "expr": "p.x"}
      ]
    },
    {
      "name": "yDelta",
      "init": 0,
      "streams": [
        {"type": "mousedown,touchstart", "expr": "0"},
        {"type": "[mousedown, mouseup] > mousemove,touchmove[e.touches.length==1]", "expr": "p.y - yCoord"}
      ]
    },
    {
      "name": "yCoord",
      "init": 0,
      "streams": [
        {"type": "mousedown,touchstart", "expr": "p.y"},
        {"type": "[mousedown, mouseup] > mousemove,touchmove", "expr": "p.y"}
      ]
    },
    {
      "name": "xMin",
      "init": -1.6,
      "streams": [
        {"type": "xDelta", "expr": "xMin + (xMax-xMin)*xDelta/800"},
        {"type": "wheel", "expr": "e.wheelDelta < 0 ? (xMin-zoomCenterX) * 1.05 + zoomCenterX : (xMin-zoomCenterX) / 1.05 + zoomCenterX"}
      ]
    },
    {
      "name": "xMax",
      "init": 1.6,
      "streams": [
        {"type": "xDelta", "expr": "xMax + (xMax-xMin)*xDelta/800"},
        {"type": "wheel", "expr": "e.wheelDelta < 0 ? (xMax-zoomCenterX) * 1.05 + zoomCenterX :(xMax-zoomCenterX) / 1.05 + zoomCenterX"}
      ]
    },
    {
      "name": "yMin",
      "init": -1,
      "streams": [
        {"type": "yDelta", "expr": "yMin + (yMax-yMin)*yDelta/500"},
        {"type": "wheel", "expr": "e.wheelDelta < 0 ? (yMin-zoomCenterY) * 1.05+zoomCenterY : (yMin-zoomCenterY) / 1.05 + zoomCenterY"}
      ]
    },
    {
      "name": "yMax",
      "init": 1,
      "streams": [
        {"type": "yDelta", "expr": "yMax + (yMax-yMin)*yDelta/500"},
        {"type": "wheel", "expr": "e.wheelDelta < 0 ? (yMax-zoomCenterY) * 1.05 +zoomCenterY: (yMax-zoomCenterY) / 1.05 + zoomCenterY"}
      ]
    }
  ],

  "scales": [
    {
      "name": "x",
      "type": "linear",
      "range": "width", "zero": false,
      "domainMin": {"signal": "xMin"},
      "domainMax": {"signal": "xMax"}
    },
    {
      "name": "y",
      "type": "linear",
      "range": "height", "zero": false,
      "domainMin": {"signal": "yMin"},
      "domainMax": {"signal": "yMax"}
    }
  ],
  "axes": [
    {"type": "x", "scale": "x", "grid": true, "layer": "back", "properties": {
      "labels": {
        "fontSize": {"value": 14}
      }

    }},
    {"type": "y", "scale": "y", "grid": true, "layer": "back", "properties": {
      "labels": {
        "fontSize": {"value": 14}
      }

    }}
  ],
  "marks": [
    {
      "type": "group",
      "properties": {
        "enter": {
          "x": {"value": 0},
          "width": {"value": 800},
          "y": {"value": 0},
          "height": {"value": 500},
          "clip": {"value": true}
        }
      },
      "marks": [
        {
          "type": "symbol",
          "properties": {
            "update": {
              "x": {"scale":"x","signal":"zoomCenterX"},
              "y": {"scale":"y","signal":"zoomCenterY"},
              "fill": {"value": "black"}
            }
          }
        },
        {
          "type": "symbol",
          "from": {"data": "points"},
          "properties": {
            "update": {
              "x": {"scale": "x", "field": "x"},
              "y": {"scale": "y", "field": "y"},
              "fill": {"value": "steelblue"}
            }
          }
        }
      ]
    }
  ]
}